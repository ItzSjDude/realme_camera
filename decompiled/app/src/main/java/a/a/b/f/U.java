package a_renamed.a_renamed.b_renamed.f_renamed;

/* loaded from: classes.dex */
public class n_renamed {

    /* renamed from: a_renamed, reason: collision with root package name */
    public static java.util.Map<java.lang.String, java.lang.Object> f105a;

    /* renamed from: b_renamed, reason: collision with root package name */
    public static float f106b;

    /* renamed from: c_renamed, reason: collision with root package name */
    public static float f107c;
    public static java.util.List<java.util.Map<java.lang.String, java.lang.Float>> d_renamed;
    public static double[][] e_renamed;
    public static double[][] f_renamed;
    public static final java.util.Map<java.lang.String, java.lang.Object> g_renamed;

    public static class b_renamed {

        /* renamed from: a_renamed, reason: collision with root package name */
        public int f108a;

        /* renamed from: b_renamed, reason: collision with root package name */
        public int f109b;

        /* renamed from: c_renamed, reason: collision with root package name */
        public int[] f110c;
        public byte[] d_renamed;

        public b_renamed() {
        }
    }

    static {
        java.util.Map<java.lang.String, java.lang.Object> mapA = a_renamed.a_renamed.b_renamed.f_renamed.j_renamed.a_renamed("{\"local_adjustments\":[{\"type\":\"luminance\",\"target\":0,\"range\":1,\"smoothness\":1,\"adjustments\":{\"exposure\":0.1973684210526314,\"gamma\":0,\"temperature\":0,\"tint\":0,\"saturation\":0,\"vibrance\":0.24999999999999997,\"contrast\":0.24999999999999997,\"balance\":-1},\"showOverlay\":false}]}");
        if (mapA != null) {
            for (java.lang.String str : mapA.keySet()) {
                mapA.put(str, a_renamed.a_renamed.b_renamed.f_renamed.m_renamed.a_renamed(str, mapA.get(str)));
            }
        }
        f105a = mapA;
        d_renamed = new java.util.ArrayList();
        java.util.HashMap map = new java.util.HashMap();
        java.util.HashMap map2 = new java.util.HashMap();
        java.util.HashMap map3 = new java.util.HashMap();
        map2.put("exposure", java.lang.Float.valueOf(0.17f));
        map2.put("contrast", java.lang.Float.valueOf(0.36f));
        map2.put("highlights", java.lang.Float.valueOf(-0.5f));
        map2.put("shadows", java.lang.Float.valueOf(0.2f));
        map2.put("vibrance", java.lang.Float.valueOf(0.25f));
        map2.put("hue_orange", java.lang.Float.valueOf(-0.05f));
        map2.put("saturation_orange", java.lang.Float.valueOf(-0.05f));
        map2.put("luminance_orange", java.lang.Float.valueOf(0.14f));
        map2.put("hue_yellow", java.lang.Float.valueOf(-0.08f));
        map2.put("clarity", java.lang.Float.valueOf(-0.17f));
        map3.put("exposure", java.lang.Float.valueOf(0.17f));
        map3.put("contrast", java.lang.Float.valueOf(0.22f));
        map3.put("highlights", java.lang.Float.valueOf(-0.5f));
        map3.put("shadows", java.lang.Float.valueOf(0.24f));
        map3.put("vibrance", java.lang.Float.valueOf(0.3f));
        map3.put("saturation_red", java.lang.Float.valueOf(-0.02f));
        map3.put("hue_orange", java.lang.Float.valueOf(-0.05f));
        map3.put("saturation_orange", java.lang.Float.valueOf(-0.03f));
        map3.put("luminance_orange", java.lang.Float.valueOf(0.26f));
        map3.put("luminance_yellow", java.lang.Float.valueOf(0.1f));
        map3.put("hue_yellow", java.lang.Float.valueOf(-0.08f));
        map3.put("luminance_green", java.lang.Float.valueOf(0.17f));
        map3.put("saturation_aqua", java.lang.Float.valueOf(0.2f));
        map3.put("luminance_aqua", java.lang.Float.valueOf(-0.2f));
        map3.put("saturation_blue", java.lang.Float.valueOf(0.2f));
        map3.put("luminance_blue", java.lang.Float.valueOf(-0.2f));
        map3.put("clarity", java.lang.Float.valueOf(-0.17f));
        d_renamed.add(map);
        d_renamed.add(map2);
        d_renamed.add(map3);
        e_renamed = new double[][]{new double[]{0.0331364d, 0.01992545d, 0.08380849d, 0.09557166d, 0.07298126d, 0.03792458d, 0.04305392d, 0.02882145d, 0.01573583d, 0.01385134d, 0.00569127d, 0.00417534d, 0.00582043d, 0.0086545d, 0.01163098d, 0.01299133d, 0.0248475d, 0.06363079d, 0.24632536d, 0.70301386d, 0.24735266d, 0.07361127d, 0.07628536d, 0.02761788d, 0.01512251d, 0.01604775d, 0.0023393d, 0.00309395d, 0.00412106d, 0.01805549d, 0.01069489d, 0.00766626d}, new double[]{0.09675281d, 0.27825167d, 0.653409d, 0.41969027d, 0.21404159d, 0.08441013d, 0.06580049d, 0.02822568d, 0.02530089d, 0.01460864d, 0.00802394d, 0.00664085d, 0.01136586d, 0.01154654d, 0.01275021d, 0.01409827d, 0.01252299d, 0.01453823d, 0.02515221d, 0.06523832d, 0.07022616d, 0.02762985d, 0.06598905d, 0.03268747d, 0.01554089d, 0.0197331d, 0.01101111d, 0.01268491d, 0.02955288d, 0.02914473d, 0.05982897d, 0.06413545d}, new double[]{0.10811736d, 0.1265484d, 0.32327649d, 0.44368175d, 0.21146834d, 0.07346794d, 0.04971323d, 0.01947073d, 0.01137532d, 0.01684467d, 0.00591782d, 0.00573072d, 0.00944886d, 0.04406d, 0.02686923d, 0.01672436d, 0.02762703d, 0.05314293d, 0.26482908d, 0.45195357d, 0.19299336d, 0.05496212d, 0.04965363d, 0.01321306d, 0.00547539d, 0.00719016d, 0.00208538d, 0.00231648d, 0.00323186d, 0.02300674d, 0.01301213d, 0.02582975d}};
        f_renamed = new double[][]{new double[]{0.0041788d, 0.00557892d, 0.0044435d, 0.00925186d, 0.01913907d, 0.03713632d, 0.05344205d, 0.05742504d, 0.05839612d, 0.06107821d, 0.06292261d, 0.05419394d, 0.06247317d, 0.09105285d, 0.12097054d, 0.15363787d, 0.19601352d, 0.20619361d, 0.16863594d, 0.15479943d, 0.21203069d, 0.21778631d, 0.15114921d, 0.16286908d, 0.21800627d, 0.21615846d, 0.23419033d, 0.22906403d, 0.12154924d, 0.0814586d, 0.05694871d, 0.05786665d}, new double[]{0.05446824d, 0.17224377d, 0.31069933d, 0.35199578d, 0.3508968d, 0.33859766d, 0.31530336d, 0.24568689d, 0.22143204d, 0.2030469d, 0.19449985d, 0.160829d, 0.12220577d, 0.11939965d, 0.11130775d, 0.09771909d, 0.07921471d, 0.06970743d, 0.06262596d, 0.0464595d, 0.04654344d, 0.03666532d, 0.03412365d, 0.02425745d, 0.01928775d, 0.01701981d, 0.01406101d, 0.01404811d, 0.01518498d, 0.00908417d, 0.00835578d, 0.01859804d}, new double[]{0.04695111d, 0.13995524d, 0.14752417d, 0.15715454d, 0.14578397d, 0.13774806d, 0.15010116d, 0.16458158d, 0.15179318d, 0.15737774d, 0.13467559d, 0.11804802d, 0.11569722d, 0.11220254d, 0.11578959d, 0.14344311d, 0.18489562d, 0.20980991d, 0.25869857d, 0.20798753d, 0.17737389d, 0.15313746d, 0.17457229d, 0.19509731d, 0.13561732d, 0.1094832d, 0.10584359d, 0.15597961d, 0.08940942d, 0.04416464d, 0.01776901d, 0.01752359d}};
        g_renamed = new java.util.HashMap();
        g_renamed.put("method", "rgb");
        g_renamed.put("to_log", java.lang.Float.valueOf(1.0f));
        g_renamed.put(com.oplus.ocs.camera.CameraParameter.WaterMarkParamKeys.SIZE, java.lang.Float.valueOf(50.0f));
        g_renamed.put("sample_step", java.lang.Float.valueOf(5.0f));
        g_renamed.put("histogram_grid", java.lang.Float.valueOf(10.0f));
        g_renamed.put("num_trial", java.lang.Float.valueOf(50.0f));
        g_renamed.put("num_gen", java.lang.Float.valueOf(6.0f));
        g_renamed.put("num_spec", java.lang.Float.valueOf(20.0f));
        g_renamed.put("tolerance", java.lang.Float.valueOf(100.0f));
        g_renamed.put("change_max", java.lang.Float.valueOf(0.3f));
    }

    public static float a_renamed(float f2, float f3, float f4) {
        return (f2 - f4) * f3;
    }

    public static float a_renamed(float[] fArr) {
        float f2 = 0.0f;
        for (float f3 : fArr) {
            f2 += f3;
        }
        return f2 / fArr.length;
    }

    public static float a_renamed(float[] fArr, double[] dArr) {
        if (fArr == null || dArr == null || fArr.length == 0 || dArr.length == 0 || fArr.length != dArr.length) {
            return 1.0f;
        }
        float fPow = 0.0f;
        for (int i_renamed = 0; i_renamed < fArr.length; i_renamed++) {
            fPow = (float) (fPow + java.lang.Math.pow(fArr[i_renamed] - dArr[i_renamed], 2.0d));
        }
        return ((float) java.lang.Math.sqrt(fPow)) / 2.0f;
    }

    public static int a_renamed(int i_renamed, int i2, int i3, int i4, java.lang.String str) {
        if (str == null) {
            str = "load";
        }
        return "load".equals(str) ? ((i2 * i3) + i_renamed) * 4 : ((((i4 - 1) - i2) * i3) + i_renamed) * 4;
    }

    public static java.util.HashMap<java.lang.String, float[]> a_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, int[] iArr) {
        java.util.HashMap<java.lang.String, float[]> map = new java.util.HashMap<>();
        java.util.HashMap<java.lang.String, float[]> mapC = c_renamed(bVar);
        float[] fArrA = a_renamed(mapC.get("lum"), 1.0f, iArr[2]);
        float[] fArrA2 = a_renamed(mapC.get("sat"), 1.0f, iArr[1]);
        float[] fArrA3 = a_renamed(mapC.get("hue"), 1.0f, iArr[0]);
        map.put("lum_hist", fArrA);
        map.put("sat_hist", fArrA2);
        map.put("hue_hist", fArrA3);
        return map;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(int i_renamed, int i2, byte[] bArr) {
        a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar = new a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed();
        bVar.f108a = i_renamed;
        bVar.f109b = i2;
        bVar.d_renamed = bArr;
        return b_renamed(bVar);
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(int i_renamed, int i2, byte[] bArr, java.util.Map<java.lang.String, java.lang.Object> map) {
        java.util.Map<java.lang.String, java.lang.Float> mapA = a_renamed(i_renamed, i2, bArr);
        for (java.lang.String str : mapA.keySet()) {
            if (map.containsKey(str)) {
                map.put(str, mapA.get(str));
            }
        }
        return mapA;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(int i_renamed, int i2, byte[] bArr, java.util.Map<java.lang.String, java.lang.Object> map, boolean z_renamed) {
        java.util.Map<java.lang.String, java.lang.Float> mapA = a_renamed(i_renamed, i2, bArr, z_renamed);
        for (java.lang.String str : mapA.keySet()) {
            if (map.containsKey(str)) {
                map.put(str, mapA.get(str));
            }
        }
        return mapA;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(int i_renamed, int i2, byte[] bArr, boolean z_renamed) {
        a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar = new a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed();
        bVar.f108a = i_renamed;
        bVar.f109b = i2;
        bVar.d_renamed = bArr;
        return a_renamed(bVar, z_renamed);
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(int i_renamed, int i2, int[] iArr) {
        a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar = new a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed();
        bVar.f108a = i_renamed;
        bVar.f109b = i2;
        bVar.f110c = iArr;
        return a_renamed(bVar);
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar) {
        java.util.HashMap map = new java.util.HashMap();
        map.put("method", "lum_hist");
        java.lang.Float fValueOf = java.lang.Float.valueOf(1.0f);
        map.put("to_log", fValueOf);
        java.lang.Float fValueOf2 = java.lang.Float.valueOf(50.0f);
        map.put(com.oplus.ocs.camera.CameraParameter.WaterMarkParamKeys.SIZE, fValueOf2);
        java.lang.Float fValueOf3 = java.lang.Float.valueOf(5.0f);
        map.put("sample_step", fValueOf3);
        java.lang.Float fValueOf4 = java.lang.Float.valueOf(20.0f);
        map.put("histogram_grid", fValueOf4);
        java.util.Map<java.lang.String, java.lang.Float> mapA = a_renamed(a_renamed(bVar, map), 0.0f, 0.0f, 0.0f);
        map.put("method", "sat_hist");
        map.put("to_log", fValueOf);
        map.put(com.oplus.ocs.camera.CameraParameter.WaterMarkParamKeys.SIZE, fValueOf2);
        map.put("sample_step", fValueOf3);
        map.put("histogram_grid", fValueOf4);
        java.util.Map<java.lang.String, java.lang.Float> mapC = c_renamed(a_renamed(bVar, map));
        java.util.HashMap map2 = new java.util.HashMap();
        map2.put("clarity", java.lang.Float.valueOf(java.lang.Math.min(0.3f, mapA.get("highlights").floatValue())));
        java.util.HashMap map3 = new java.util.HashMap();
        map3.put("dehaze", java.lang.Float.valueOf(java.lang.Math.max(0.0f, java.lang.Math.min((mapA.get("highlights").floatValue() * 0.9f) + (mapA.get("exposure").floatValue() * 0.4f), 1.0f))));
        java.util.Map<java.lang.String, java.lang.Float> mapA2 = a_renamed(mapA, mapC, map2, map3);
        if (mapA2.get("exposure").floatValue() + mapA2.get("highlights").floatValue() >= 0.9f) {
            mapA2.put("gamma", java.lang.Float.valueOf((-mapA2.get("exposure").floatValue()) * 0.35f));
        }
        return mapA2;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, boolean z_renamed) {
        float fMax;
        java.util.HashMap<java.lang.String, float[]> mapA = a_renamed(bVar, new int[]{32, 32, 256});
        float[] fArr = mapA.get("lum_hist");
        float[] fArrA = a_renamed(fArr, 32);
        float[] fArr2 = mapA.get("sat_hist");
        float[] fArrE = e_renamed(mapA.get("hue_hist"));
        float[] fArrE2 = e_renamed(fArrA);
        int i_renamed = 0;
        float f2 = 2.0f;
        for (int i2 = 0; i2 < 3; i2++) {
            float fA_renamed = (a_renamed(fArrE, e_renamed[i2]) * 0.3f) + (a_renamed(fArrE2, f_renamed[i2]) * 0.7f);
            if (fA_renamed < f2) {
                i_renamed = i2;
                f2 = fA_renamed;
            }
        }
        float fD_renamed = d_renamed(fArr2);
        float fD2 = d_renamed(fArrA);
        android.util.Log.d_renamed("auto ave lum sat", fD2 + ", " + fD_renamed);
        f106b = fD_renamed;
        f107c = fD2;
        if (fD2 < 0.2f) {
            i_renamed = 1;
        } else if (fD2 > 0.35f && i_renamed != 0) {
            i_renamed = 2;
        }
        int i3 = i_renamed == 0 ? 2 : i_renamed;
        java.util.HashMap map = new java.util.HashMap(d_renamed.get(i3));
        android.util.Log.d_renamed("auto filter", "" + new java.lang.String[]{"bright", "dark", "normal"}[i_renamed]);
        float[] fArrB = b_renamed(fArr);
        float f3 = fArrB[1];
        float f4 = fArrB[0];
        android.util.Log.d_renamed("auto bounds", f4 + ", " + f3);
        if (f3 < 255.0f) {
            float fMax2 = java.lang.Math.max(-0.1f, java.lang.Math.min(java.lang.Math.max((float) (((((255.0f - f3) * 0.6f) / 100.0f) * 0.4f) + (((java.lang.Math.max(0.0f, f4 - 5.0f) * 0.6f) / 100.0f) * 0.4f * 0.2d)), 0.16f - fD2) * 0.5f, 0.1f));
            android.util.Log.d_renamed("auto exposure", "" + fMax2);
            fMax = java.lang.Math.max(0.0f, fMax2 - 0.02f);
            a_renamed(map, "exposure", fMax2);
        } else {
            fMax = 0.0f;
        }
        if (f4 > 9.0f || fMax > 0.0f) {
            float fMin = ((((-java.lang.Math.max(0.0f, f4 - 5.0f)) * 0.6f) / 100.0f) - fMax) * 0.4f;
            android.util.Log.d_renamed("auto gamma", "" + fMin);
            if (map.containsKey("gamma")) {
                fMin = java.lang.Math.min(((java.lang.Float) map.get("gamma")).floatValue(), fMin);
            }
            map.put("gamma", java.lang.Float.valueOf(java.lang.Math.max(-0.5f, java.lang.Math.min(fMin, 0.5f))));
        }
        int i4 = 2;
        if (i3 == 2) {
            if (fD2 < 0.5f && fD_renamed < 0.23f) {
                float fMin2 = java.lang.Math.min((0.5f - fD2) * 0.4f, 0.07f);
                a_renamed(map, "temperature", fMin2);
                android.util.Log.d_renamed("auto temperature", "" + fMin2);
            }
            i4 = 2;
        }
        if (i3 == i4 && fD_renamed > 0.4f && fD2 > 0.25f) {
            float f5 = (fD_renamed - 0.4f) * 0.3f;
            a_renamed(map, "vibrance", f5);
            android.util.Log.d_renamed("auto vibrance", "" + f5);
        }
        float f6 = (fD_renamed - 0.2f) * 0.2f;
        if (i3 == 1) {
            f6 = (-(fD_renamed - 0.3f)) * 0.2f;
        }
        a_renamed(map, "contrast", f6);
        a_renamed(map, "clarity", (-f6) * 0.5f);
        android.util.Log.d_renamed("auto contrast", "" + f6);
        float f7 = -(fD2 - 0.4f);
        float f8 = f7 * 0.4f;
        a_renamed(map, "highlights", f8);
        android.util.Log.d_renamed("auto highlights", "" + f8);
        float f9 = (f7 * 0.3f) - (fMax * 0.5f);
        a_renamed(map, "shadows", f9);
        android.util.Log.d_renamed("auto shadows", "" + f9);
        if (!z_renamed) {
            java.util.Iterator it = new java.util.HashSet(map.keySet()).iterator();
            while (it.hasNext()) {
                java.lang.String str = (java.lang.String) it.next();
                if (str.contains("orange") || str.contains("yellow") || str.contains("red") || str.contains("clarity")) {
                    map.remove(str);
                }
            }
            if (i3 == 2 && fD_renamed > 0.25f) {
                map.put("saturation_orange", java.lang.Float.valueOf(0.05f));
                map.put("luminance_orange", java.lang.Float.valueOf(-0.15f));
                map.put("saturation_yellow", java.lang.Float.valueOf(0.05f));
                map.put("luminance_yellow", java.lang.Float.valueOf(-0.15f));
                map.put("saturation_red", java.lang.Float.valueOf(0.1f));
                map.put("luminance_red", java.lang.Float.valueOf(-0.2f));
                if (fD_renamed > 0.32d) {
                    a_renamed(map, "exposure", java.lang.Math.max(0.32f - fD_renamed, -0.1f));
                }
            }
        }
        android.util.Log.d_renamed("auto adjustments", map.toString());
        return map;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(java.util.Map<java.lang.String, java.lang.Float> map, java.util.Map<java.lang.String, java.lang.Float> map2, java.util.Map<java.lang.String, java.lang.Float> map3, java.util.Map<java.lang.String, java.lang.Float> map4) {
        java.util.HashMap map5 = new java.util.HashMap();
        map5.putAll(map);
        map5.putAll(map2);
        map5.putAll(map3);
        map5.putAll(map4);
        return map5;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> a_renamed(float[] fArr, float f2, float f3, float f4) {
        float f5;
        float f6;
        float f7;
        float f8;
        float fMax = java.lang.Math.max(f2, 0.6f);
        float fMax2 = java.lang.Math.max(f3, 0.8f);
        float fMax3 = java.lang.Math.max(f4, 0.3f);
        float length = fArr.length;
        int i_renamed = 0;
        float f9 = 0.0f;
        for (int i2 = 0; i2 < length; i2++) {
            f9 = (float) (f9 + (((i2 + 0.5d) / (length - 1.0d)) * fArr[i2]));
        }
        float f10 = 0.0f;
        float f11 = 0.0f;
        float f12 = 0.0f;
        float f13 = 0.0f;
        while (true) {
            float f14 = i_renamed;
            if (f14 >= length) {
                break;
            }
            float f15 = (f14 + 0.5f) / (length - 1.0f);
            double d2 = f15 - 1.0f;
            float fExp = (float) java.lang.Math.exp(d2 * (-4.0d) * d2);
            f12 += fArr[i_renamed] * fExp * f15;
            f13 += fExp * fArr[i_renamed];
            double d3 = f15;
            float fExp2 = (float) java.lang.Math.exp((-4.0d) * d3 * d3);
            f10 += fArr[i_renamed] * fExp2 * f15;
            f11 += fExp2 * fArr[i_renamed];
            i_renamed++;
        }
        float f16 = f10 / f11;
        float f17 = f12 / f13;
        if (f9 > fMax) {
            f5 = fMax - f9;
            f6 = f9 - 0.0f;
        } else {
            f5 = fMax - f9;
            f6 = 1.0f - f9;
        }
        float f18 = f5 / f6;
        if (f17 > fMax2) {
            f7 = fMax2 - f17;
            f8 = f17 - 0.0f;
        } else {
            f7 = fMax2 - f17;
            f8 = 1.0f - f17;
        }
        float f19 = f7 / f8;
        float f20 = f16 > fMax3 ? (fMax3 - f16) / (f16 - 0.0f) : (fMax3 - f16) / (1.0f - f16);
        java.util.HashMap map = new java.util.HashMap();
        map.put("exposure", java.lang.Float.valueOf(f18));
        map.put("exposure_mean", java.lang.Float.valueOf(f9));
        map.put("highlights", java.lang.Float.valueOf(f19));
        map.put("highlights_mean", java.lang.Float.valueOf(f17));
        map.put("shadows", java.lang.Float.valueOf(f20));
        map.put("shadows_mean", java.lang.Float.valueOf(f16));
        return map;
    }

    public static void a_renamed(int i_renamed, int i2, int[] iArr, co_renamed.polarr.renderer.entities.FaceItem faceItem, co_renamed.polarr.renderer.entities.Context.FaceFeaturesState faceFeaturesState, float f2, boolean z_renamed) {
        float fMin = java.lang.Math.min(1.0f, java.lang.Math.max(0.0f, f2)) * 2.0f;
        java.util.Map<java.lang.String, java.lang.Float> mapA = a_renamed(i_renamed, i2, iArr);
        float[] fArr = {mapA.get("exposure_mean").floatValue(), mapA.get("highlights_mean").floatValue(), mapA.get("shadows_mean").floatValue(), mapA.get("saturation_mean").floatValue()};
        float fA_renamed = a_renamed(fArr);
        faceItem.adjustments.skin_smoothness = a_renamed(fArr[2], 0.3f, fA_renamed) + 0.55f;
        faceItem.adjustments.skin_tone = a_renamed(fArr[0], 0.3f, fA_renamed) + 0.2f;
        faceItem.adjustments.skin_highlights = a_renamed(fArr[2], 0.1f, fA_renamed) + 0.3f;
        faceItem.adjustments.skin_shadows = a_renamed(fArr[2], 0.1f, fA_renamed) - 0.1f;
        faceItem.adjustments.eyes_contrast = a_renamed(fArr[2], 0.1f, fA_renamed) + 0.5f;
        faceItem.adjustments.eyes_brightness = a_renamed(fArr[2], 0.1f, fA_renamed) + 0.2f;
        faceItem.adjustments.lips_saturation = a_renamed(fArr[3], 0.3f, fA_renamed) + 0.2f;
        faceItem.adjustments.lips_brightness = a_renamed(fArr[3], 0.1f, fA_renamed) + 0.1f;
        co_renamed.polarr.renderer.entities.Context.FaceState faceState = faceItem.adjustments;
        faceState.skin_smoothness *= fMin;
        faceState.skin_tone *= fMin;
        faceState.skin_highlights *= fMin;
        faceState.skin_shadows *= fMin;
        faceState.eyes_contrast *= fMin;
        faceState.eyes_brightness *= fMin;
        faceState.lips_saturation *= fMin;
        faceState.lips_brightness *= fMin;
        if (faceFeaturesState != null) {
            faceFeaturesState.face_width = (-0.15f) * fMin;
            float f3 = fMin * 0.1f;
            faceFeaturesState.eye_size = new float[]{f3, f3};
        }
    }

    public static void a_renamed(java.util.Map<java.lang.String, java.lang.Float> map, java.lang.String str, float f2) {
        float f3;
        float f4;
        if (map.containsKey(str)) {
            f2 += map.get(str).floatValue();
        }
        if (str.equals("shadows")) {
            f3 = -1.5f;
            f4 = 1.5f;
        } else {
            f3 = -1.0f;
            f4 = 1.0f;
        }
        map.put(str, java.lang.Float.valueOf(java.lang.Math.max(f3, java.lang.Math.min(f2, f4))));
    }

    public static float[] a_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, java.util.Map<java.lang.String, java.lang.Object> map) {
        java.lang.String str = (java.lang.String) map.get("method");
        if (str == null) {
            str = (java.lang.String) g_renamed.get("method");
        }
        float fFloatValue = ((java.lang.Float) (map.containsKey("sample_step") ? map.get("sample_step") : g_renamed.get("sample_step"))).floatValue();
        if (!map.containsKey("histogram_grid")) {
            map = g_renamed;
        }
        float fFloatValue2 = ((java.lang.Float) map.get("histogram_grid")).floatValue();
        if ("sat_hist".equals(str)) {
            return a_renamed(c_renamed(bVar, (int) fFloatValue), 1.0f, (int) fFloatValue2);
        }
        if ("lum_hist".equals(str)) {
            return a_renamed(b_renamed(bVar, (int) fFloatValue), 1.0f, (int) fFloatValue2);
        }
        if ("hue_hist".equals(str)) {
            return a_renamed(a_renamed(bVar, (int) fFloatValue), 1.0f, (int) fFloatValue2);
        }
        return null;
    }

    public static float[] a_renamed(float[] fArr, float f2, int i_renamed) {
        float fMax = java.lang.Math.max(f2, 1.0f);
        float[] fArr2 = new float[i_renamed];
        float length = 1.0f / fArr.length;
        for (float f3 : fArr) {
            int iMin = (int) java.lang.Math.min(java.lang.Math.floor((f3 * i_renamed) / fMax), i_renamed - 1);
            fArr2[iMin] = fArr2[iMin] + length;
        }
        return fArr2;
    }

    public static float[] a_renamed(float[] fArr, int i_renamed) {
        int length = fArr.length / i_renamed;
        float[] fArr2 = new float[i_renamed];
        for (int i2 = 0; i2 < i_renamed; i2++) {
            for (int i3 = 0; i3 < length; i3++) {
                fArr2[i2] = fArr2[i2] + fArr[(i2 * length) + i3];
            }
        }
        return fArr2;
    }

    public static float[] a_renamed(java.lang.Float[] fArr, float f2, int i_renamed) {
        float fMax = java.lang.Math.max(f2, 1.0f);
        float[] fArr2 = new float[i_renamed];
        float length = 1.0f / fArr.length;
        for (java.lang.Float f3 : fArr) {
            int iMin = (int) java.lang.Math.min(java.lang.Math.floor((f3.floatValue() * i_renamed) / fMax), i_renamed - 1);
            fArr2[iMin] = fArr2[iMin] + length;
        }
        return fArr2;
    }

    public static java.lang.Float[] a_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, int i_renamed) {
        int i2 = bVar.f109b;
        int i3 = bVar.f108a;
        java.util.ArrayList arrayList = new java.util.ArrayList();
        int i4 = 0;
        while (true) {
            int i5 = i4 + i_renamed;
            if (i5 >= i2) {
                return (java.lang.Float[]) arrayList.toArray(new java.lang.Float[arrayList.size()]);
            }
            int i6 = 0;
            while (true) {
                int i7 = i6 + i_renamed;
                if (i7 < i3) {
                    int iA = a_renamed(i6, i4, i3, i2, (java.lang.String) null);
                    int[] iArr = bVar.f110c;
                    float f2 = iArr[iA] / 255.0f;
                    float f3 = iArr[iA + 1] / 255.0f;
                    float f4 = iArr[iA + 2] / 255.0f;
                    float fMin = java.lang.Math.min(f2, java.lang.Math.min(f3, f4));
                    float fMax = java.lang.Math.max(f2, java.lang.Math.max(f3, f4));
                    float f5 = fMax - fMin;
                    float f6 = 0.0f;
                    if (java.lang.Math.abs(f5) > 1.0E-6d) {
                        if (f2 == fMax) {
                            f6 = (((f3 - f4) / f5) / 6.0f) + (f3 < f4 ? 1 : 0);
                        } else {
                            f6 = f3 == fMax ? (((f4 - f2) / f5) + 2.0f) / 6.0f : (((f2 - f3) / f5) + 4.0f) / 6.0f;
                        }
                    }
                    arrayList.add(java.lang.Float.valueOf(f6));
                    i6 = i7;
                }
            }
            i4 = i5;
        }
    }

    public static java.util.Map<java.lang.String, java.lang.Float> b_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar) {
        int i_renamed;
        double d2;
        double d3;
        double d4;
        float f2;
        float f3;
        java.util.HashMap<java.lang.String, float[]> mapA = a_renamed(bVar, new int[]{360, 32, 32});
        float[] fArr = mapA.get("lum_hist");
        float[] fArr2 = mapA.get("sat_hist");
        float[] fArr3 = mapA.get("hue_hist");
        int i2 = 0;
        float f4 = 0.0f;
        while (true) {
            if (i2 >= 25) {
                break;
            }
            f4 += fArr3[i2];
            i2++;
        }
        for (int i3 = 345; i3 < 360; i3++) {
            f4 += fArr3[i3];
        }
        float f5 = 0.0f;
        for (i_renamed = 25; i_renamed < 70; i_renamed++) {
            f5 += fArr3[i_renamed];
        }
        float f6 = f4 / (f5 + f4);
        android.util.Log.d_renamed("face ave redRatio", f6 + "");
        float fD_renamed = d_renamed(fArr2);
        float fD2 = d_renamed(fArr);
        android.util.Log.d_renamed("face ave lum", fD2 + "");
        android.util.Log.d_renamed("face ave sat", "" + fD_renamed);
        java.util.HashMap map = new java.util.HashMap();
        if (fD2 <= 0.44f) {
            d2 = fD_renamed;
            d3 = 0.44d - fD2;
            d4 = 0.699999988079071d;
        } else {
            d2 = fD_renamed;
            d3 = 0.44d - fD2;
            d4 = 0.30000001192092896d;
        }
        float f7 = (0.25f - ((float) (d2 + (d3 * d4)))) * 0.7f;
        float fMax = java.lang.Math.max(0.0f, java.lang.Math.min(0.03f, (-f7) * 0.3f));
        float f8 = (f6 - 0.5f) * 0.1f;
        android.util.Log.d_renamed("face delta hue", "" + f8);
        float fMax2 = fMax + f8;
        float fMax3 = java.lang.Math.max(-0.25f, java.lang.Math.min(0.3f, ((0.44f - fD2) * 3.0f) + java.lang.Math.max(0.0f, f8)));
        float fMin = f7 + java.lang.Math.min(0.05f, (1.0f - f6) * 0.1f);
        android.util.Log.d_renamed("face lum adjust0", "" + fMax3);
        float f9 = fD2 - f107c;
        if (f9 < 0.04f && fMax3 < 0.0f) {
            fMax3 += java.lang.Math.min(java.lang.Math.abs(fMax3), 0.04f - f9);
        }
        float f10 = (0.7f - f106b) - fD_renamed;
        if (f9 >= 0.15f || f10 <= 0.0f || fMax3 >= 0.0f) {
            f2 = fMax3;
        } else {
            float fMin2 = java.lang.Math.min(0.0f, fMax3 + java.lang.Math.min(java.lang.Math.max(0.0f, f10), 0.15f));
            android.util.Log.d_renamed("face delta sat", "" + f10);
            java.lang.StringBuilder sb = new java.lang.StringBuilder();
            sb.append("");
            f2 = fMin2;
            sb.append(0.04d - f9);
            android.util.Log.d_renamed("face delta lum", sb.toString());
            float f11 = (0.04f - f9) + f10;
            fMin -= java.lang.Math.max(0.0f, java.lang.Math.min(f11, 0.2f)) * 0.3f;
            fMax2 -= java.lang.Math.max(0.0f, java.lang.Math.min(f11, 0.2f)) * 0.25f;
        }
        float fMax4 = java.lang.Math.max(-0.15f, java.lang.Math.min(0.02f, fMin));
        float fMax5 = java.lang.Math.max(-0.05f, java.lang.Math.min(0.05f, fMax2));
        if (fD2 < 0.2f) {
            f3 = 0.5f;
            f2 *= 0.5f;
            fMax4 *= 0.5f;
        } else {
            f3 = 0.5f;
        }
        float f12 = f2;
        a_renamed(map, "saturation_orange", fMax4);
        a_renamed(map, "saturation_red", 0.4f * fMax4);
        a_renamed(map, "luminance_orange", f12);
        a_renamed(map, "luminance_yellow", f12 * f3);
        a_renamed(map, "hue_yellow", fMax5);
        a_renamed(map, "hue_orange", fMax5);
        if (f12 < 0.0f) {
            a_renamed(map, "highlights", f12);
        }
        android.util.Log.d_renamed("face lum adjust", "" + f12);
        android.util.Log.d_renamed("face sat adjust", "" + fMax4);
        android.util.Log.d_renamed("face hue adjust", "" + fMax5);
        android.util.Log.d_renamed("face adjustments:", map.toString());
        return map;
    }

    public static float[] b_renamed(float[] fArr) {
        float f2;
        float f3;
        float f4 = 0.0f;
        int i_renamed = 0;
        float f5 = 0.0f;
        while (true) {
            if (i_renamed >= fArr.length) {
                f2 = 0.0f;
                break;
            }
            f5 += fArr[i_renamed];
            if (f5 >= 0.007f) {
                f2 = i_renamed;
                break;
            }
            i_renamed++;
        }
        float fMin = java.lang.Math.min(f2, 75.0f);
        int length = fArr.length - 1;
        while (true) {
            if (length < 0) {
                f3 = 255.0f;
                break;
            }
            f4 += fArr[length];
            if (f4 >= 0.007f) {
                f3 = length;
                break;
            }
            length--;
        }
        return new float[]{fMin, java.lang.Math.max(f3, 190.0f)};
    }

    public static java.lang.Float[] b_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, int i_renamed) {
        int i2 = bVar.f109b;
        int i3 = bVar.f108a;
        java.util.ArrayList arrayList = new java.util.ArrayList();
        int i4 = 0;
        while (true) {
            int i5 = i4 + i_renamed;
            if (i5 >= i2) {
                return (java.lang.Float[]) arrayList.toArray(new java.lang.Float[arrayList.size()]);
            }
            int i6 = 0;
            while (true) {
                int i7 = i6 + i_renamed;
                if (i7 < i3) {
                    int iA = a_renamed(i6, i4, i3, i2, (java.lang.String) null);
                    int[] iArr = bVar.f110c;
                    float f2 = iArr[iA] / 255.0f;
                    float f3 = iArr[iA + 1] / 255.0f;
                    float f4 = iArr[iA + 2] / 255.0f;
                    arrayList.add(java.lang.Float.valueOf((java.lang.Math.max(f2, java.lang.Math.max(f3, f4)) + java.lang.Math.min(f2, java.lang.Math.min(f3, f4))) / 2.0f));
                    i6 = i7;
                }
            }
            i4 = i5;
        }
    }

    public static java.util.HashMap<java.lang.String, float[]> c_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar) {
        float fA_renamed;
        float fA2;
        float fA3;
        float f2;
        float f3;
        int i_renamed = bVar.f109b * bVar.f108a;
        float[] fArr = new float[i_renamed];
        float[] fArr2 = new float[i_renamed];
        float[] fArr3 = new float[i_renamed];
        for (int i2 = 0; i2 < i_renamed; i2++) {
            int i3 = i2 * 4;
            if (bVar.d_renamed != null) {
                fA2 = a_renamed.a_renamed.b_renamed.c_renamed.a_renamed.a_renamed(r8[i3]) / 255.0f;
                fA3 = a_renamed.a_renamed.b_renamed.c_renamed.a_renamed.a_renamed(bVar.d_renamed[i3 + 1]) / 255.0f;
                fA_renamed = a_renamed.a_renamed.b_renamed.c_renamed.a_renamed.a_renamed(bVar.d_renamed[i3 + 2]) / 255.0f;
            } else {
                int[] iArr = bVar.f110c;
                float f4 = iArr[i3] / 255.0f;
                float f5 = iArr[i3 + 1] / 255.0f;
                fA_renamed = iArr[i3 + 2] / 255.0f;
                fA2 = f4;
                fA3 = f5;
            }
            float fMin = java.lang.Math.min(fA2, java.lang.Math.min(fA3, fA_renamed));
            float fMax = java.lang.Math.max(fA2, java.lang.Math.max(fA3, fA_renamed));
            float f6 = fMax + fMin;
            float f7 = f6 / 2.0f;
            float f8 = fMax - fMin;
            fArr[i2] = f7;
            if (java.lang.Math.abs(f8) > 1.0E-6d) {
                if (f7 >= 0.5d) {
                    f6 = (2.0f - fMax) - fMin;
                }
                f2 = f8 / (f6 + 1.0E-6f);
            } else {
                f2 = 0.0f;
            }
            fArr2[i2] = f2;
            if (java.lang.Math.abs(f8) <= 1.0E-6d) {
                f3 = 0.0f;
            } else if (fA2 == fMax) {
                f3 = (((fA3 - fA_renamed) / f8) / 6.0f) + (fA3 < fA_renamed ? 1 : 0);
            } else {
                f3 = fA3 == fMax ? (((fA_renamed - fA2) / f8) + 2.0f) / 6.0f : (((fA2 - fA3) / f8) + 4.0f) / 6.0f;
            }
            fArr3[i2] = f3;
        }
        java.util.HashMap<java.lang.String, float[]> map = new java.util.HashMap<>();
        map.put("lum", fArr);
        map.put("sat", fArr2);
        map.put("hue", fArr3);
        return map;
    }

    public static java.util.Map<java.lang.String, java.lang.Float> c_renamed(float[] fArr) {
        float f2;
        float f3;
        float length = fArr.length;
        float f4 = 0.0f;
        for (int i_renamed = 0; i_renamed < length; i_renamed++) {
            f4 = (float) (f4 + (((i_renamed + 0.5d) / (length - 1.0d)) * fArr[i_renamed]));
        }
        if (f4 > 0.5f) {
            f2 = 0.5f - f4;
            f3 = f4 - 0.0f;
        } else {
            f2 = 0.5f - f4;
            f3 = 1.0f - f4;
        }
        float f5 = f2 / f3;
        float f6 = f5 > 0.25f ? (-f5) * 0.7f : 0.0f;
        java.util.HashMap map = new java.util.HashMap();
        map.put("vibrance", java.lang.Float.valueOf(f5));
        map.put("saturation_orange", java.lang.Float.valueOf(f6));
        map.put("vibrance_mean", java.lang.Float.valueOf(f4));
        map.put("saturation_mean", java.lang.Float.valueOf(f4));
        return map;
    }

    public static java.lang.Float[] c_renamed(a_renamed.a_renamed.b_renamed.f_renamed.n_renamed.b_renamed bVar, int i_renamed) {
        int i2 = bVar.f109b;
        int i3 = bVar.f108a;
        java.util.ArrayList arrayList = new java.util.ArrayList();
        int i4 = 0;
        while (true) {
            int i5 = i4 + i_renamed;
            if (i5 >= i2) {
                return (java.lang.Float[]) arrayList.toArray(new java.lang.Float[arrayList.size()]);
            }
            int i6 = 0;
            while (true) {
                int i7 = i6 + i_renamed;
                if (i7 < i3) {
                    int iA = a_renamed(i6, i4, i3, i2, (java.lang.String) null);
                    int[] iArr = bVar.f110c;
                    float f2 = iArr[iA] / 255.0f;
                    float f3 = iArr[iA + 1] / 255.0f;
                    float f4 = iArr[iA + 2] / 255.0f;
                    float fMin = java.lang.Math.min(f2, java.lang.Math.min(f3, f4));
                    float fMax = java.lang.Math.max(f2, java.lang.Math.max(f3, f4));
                    float f5 = fMax - fMin;
                    float f6 = fMax + fMin;
                    float f7 = f6 / 2.0f;
                    float f8 = 0.0f;
                    int i8 = i4;
                    if (java.lang.Math.abs(f5) > 1.0E-6d) {
                        f8 = ((double) f7) < 0.5d ? f5 / (f6 + 1.0E-6f) : f5 / (((2.0f - fMax) - fMin) + 1.0E-6f);
                    }
                    arrayList.add(java.lang.Float.valueOf(f8));
                    i6 = i7;
                    i4 = i8;
                }
            }
            i4 = i5;
        }
    }

    public static float d_renamed(float[] fArr) {
        float length = 1.0f / fArr.length;
        float f2 = 0.0f;
        for (int i_renamed = 0; i_renamed < fArr.length; i_renamed++) {
            f2 = (float) (f2 + (fArr[i_renamed] * (i_renamed + 0.5d) * length));
        }
        return f2;
    }

    public static float[] e_renamed(float[] fArr) {
        float f2 = 0.0f;
        for (float f3 : fArr) {
            f2 += f3 * f3;
        }
        float fSqrt = (float) java.lang.Math.sqrt(f2);
        float[] fArr2 = new float[fArr.length];
        for (int i_renamed = 0; i_renamed < fArr.length; i_renamed++) {
            fArr2[i_renamed] = fArr[i_renamed] / fSqrt;
        }
        return fArr2;
    }
}
